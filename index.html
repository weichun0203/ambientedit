<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>常溫編集所 • 工具箱</title>
    
    <!-- 引入 Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- 引入 Phosphor Icons (圖標庫) -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>

    <!-- 引入 Google Fonts: Noto Serif TC (襯線體) 和 Noto Sans TC -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500&family=Noto+Serif+TC:wght@400;600&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'paper': '#fdfbf7', // 暖米白背景
                        'ink': '#4a4a4a',   // 深灰墨色文字
                        'sage': '#8da399',  // 鼠尾草綠 (點綴)
                        'clay': '#d4a59a',  // 陶土粉 (點綴)
                        'sand': '#e6e2dd',  // 沙色邊框
                    },
                    fontFamily: {
                        serif: ['"Noto Serif TC"', 'serif'],
                        sans: ['"Noto Sans TC"', 'sans-serif'],
                    },
                    boxShadow: {
                        'soft': '0 4px 20px -2px rgba(0, 0, 0, 0.05)',
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background-color: #fdfbf7;
            color: #4a4a4a;
            font-family: 'Noto Sans TC', sans-serif;
            /* 模擬紙張質感的微噪點 */
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.03'/%3E%3C/svg%3E");
        }
        
        .card-hover {
            transition: all 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
        }
        
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px -5px rgba(0, 0, 0, 0.1);
            border-color: #8da399;
        }

        /* 標題下方的裝飾線 */
        .decoration-line {
            width: 1px;
            height: 60px;
            background: linear-gradient(to bottom, transparent, #8da399, transparent);
            margin: 0 auto 2rem auto;
        }

        /* 按鈕 hover 動畫 */
        .btn-hover {
            transition: all 0.3s ease;
        }
        .btn-hover:hover {
            background-color: #4a4a4a; /* ink color */
            color: #fdfbf7; /* paper color */
            border-color: #4a4a4a;
        }

        /* 搜尋框與過濾按鈕樣式 */
        .filter-btn {
            transition: all 0.3s ease;
        }
        .filter-btn.active {
            background-color: #4a4a4a;
            color: #fdfbf7;
        }
        .search-input:focus {
            outline: none;
            border-color: #8da399;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col justify-between selection:bg-sage selection:text-white">

    <!-- Header 區域 -->
    <header class="pt-20 pb-8 px-6 text-center">
        <h1 class="text-4xl md:text-5xl font-serif font-semibold tracking-widest text-ink mb-4">
            常溫編集所
        </h1>
        <p class="text-gray-500 font-serif text-sm md:text-base tracking-widest mb-8 uppercase">
            Ambient Edit Studio
        </p>
        <div class="decoration-line"></div>
        <p class="max-w-md mx-auto text-gray-600 font-light leading-loose text-sm">
            把複雜的計算交給程式，<br>
            將時間留給生活中的美好事物。
        </p>
    </header>

    <!-- Main Content 區域 -->
    <main class="flex-grow w-full max-w-6xl mx-auto px-6 pb-20">
        
        <!-- 過濾與搜尋控制列 -->
        <div class="mb-12 flex flex-col md:flex-row gap-6 items-center justify-between border-b border-sand pb-6">
            <!-- 分類按鈕區 -->
            <div id="filter-buttons" class="flex flex-wrap gap-2 justify-center md:justify-start">
                <!-- JS 自動生成按鈕 -->
                <button onclick="filterTools('all')" class="filter-btn active px-4 py-1.5 rounded-full text-sm tracking-wide bg-ink text-paper border border-ink">
                    全部
                </button>
            </div>

            <!-- 標題搜尋框 -->
            <div class="relative w-full md:w-64">
                <i class="ph-magnifying-glass absolute left-0 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                <input type="text" id="search-input" placeholder="搜尋標題..." 
                    class="search-input w-full pl-8 pr-4 py-2 bg-transparent border-b border-gray-300 text-ink placeholder-gray-400 text-sm tracking-wide focus:border-sage transition-colors">
            </div>
        </div>
        
        <!-- 工具列表容器 -->
        <div id="tool-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-20">
            <!-- 內容由 JS 生成 -->
        </div>

        <!-- 空白佔位符 (無搜尋結果時顯示) -->
        <div id="empty-state" class="hidden text-center py-20 text-gray-400 font-light">
            <i class="ph-coffee text-4xl mb-4 text-gray-300 block"></i>
            沒有找到相關工具
        </div>

        <!-- 關於我 / 連結區塊 -->
        <div class="relative border-t border-sand pt-12">
            <div class="absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-paper px-4 text-gray-400 font-serif tracking-widest text-xs">
                CONNECT
            </div>
            
            <div class="text-center max-w-2xl mx-auto">
                <h3 class="text-xl font-serif text-ink mb-2 tracking-widest">關於我</h3>
                <p class="text-gray-500 text-sm font-light mb-8">在這裡找到更多關於我的故事與分享</p>
                
                <div id="social-container" class="flex flex-wrap justify-center gap-4">
                    <!-- 內容由 JS 生成 -->
                </div>
            </div>
        </div>

    </main>

    <!-- Footer 區域 -->
    <footer class="border-t border-sand py-8 text-center text-xs text-gray-400 font-light tracking-wider">
        <p>&copy; <span id="year"></span> Ambient Edit Studio. All Rights Reserved.</p>
    </footer>

    <!-- JavaScript 邏輯 -->
    <script>
        document.getElementById('year').textContent = new Date().getFullYear();

        // ==========================================
        // 1. 工具列表設定 (Tools Data)
        // ==========================================
        const toolsData = [
            {
                title: "運費成本報價",
                desc: "精算物流開銷，掌握每一分成本。",
                icon: "ph-truck", 
                tag: "Business",
                link: "shipping-fee-calculator", 
                color: "text-stone-600"
            },
            {
                title: "存股加薪計算",
                desc: "預見未來的被動收入，規劃財富藍圖。",
                icon: "ph-plant",
                tag: "Invest",
                link: "dividend-investing", 
                color: "text-emerald-700"
            },
            {
                title: "薪資分配計算",
                desc: "或是儲蓄或是享受，找到收支的完美平衡。",
                icon: "ph-wallet",
                tag: "Planning",
                link: "daily-budget", 
                color: "text-amber-700"
            },
            {
                title: "複利股價計算",
                desc: "時間是投資最好的朋友，見證複利的力量。",
                icon: "ph-trend-up",
                tag: "Growth",
                link: "compound-interest", 
                color: "text-blue-800"
            },
        ];

        // ==========================================
        // 2. 關於我連結設定 (Social / About Data)
        // ==========================================
        const socialData = [
            { title: "Instagram", link: "https://www.instagram.com/weichun0203/", icon: "ph-instagram-logo" },
            { title: "Facebook", link: "https://www.facebook.com/weichun0203/?locale=zh_TW", icon: "ph-facebook-logo" },
            { title: "個人接案", link: "#", icon: "ph-article" },
            { title: "聯絡我", link: "weichun0203@Gmail.com", icon: "ph-envelope-simple" },
            { title: "賣貨便", link: "https://myship.7-11.com.tw/cart/confirm/GM2512099810755", icon: "ph-storefront" }
        ];

        // ==========================================
        // 3. 核心邏輯：渲染與過濾
        // ==========================================
        
        const container = document.getElementById('tool-container');
        const emptyState = document.getElementById('empty-state');
        const searchInput = document.getElementById('search-input');
        const filterBtnContainer = document.getElementById('filter-buttons');

        // 當前過濾狀態
        let currentFilter = 'all';
        let currentSearch = '';

        // A. 初始化：產生分類按鈕 (自動抓取唯一的 tag)
        function initFilterButtons() {
            const tags = [...new Set(toolsData.map(item => item.tag))]; // 取得不重複的 tag
            
            tags.forEach(tag => {
                const btn = document.createElement('button');
                btn.className = `filter-btn px-4 py-1.5 rounded-full text-sm tracking-wide bg-transparent text-gray-500 border border-transparent hover:bg-gray-100 hover:text-ink`;
                btn.textContent = tag;
                btn.onclick = () => filterTools(tag, btn);
                filterBtnContainer.appendChild(btn);
            });
        }

        // B. 過濾功能
        function filterTools(tag, btnElement = null) {
            // 更新狀態
            if (tag) currentFilter = tag;
            
            // 更新按鈕樣式
            if (btnElement || tag === 'all') {
                const allBtns = document.querySelectorAll('.filter-btn');
                allBtns.forEach(b => {
                    b.classList.remove('active', 'bg-ink', 'text-paper', 'border-ink');
                    b.classList.add('bg-transparent', 'text-gray-500', 'border-transparent');
                });

                // 如果是點擊觸發，或是重置為 all
                const activeBtn = btnElement || document.querySelector('.filter-btn'); // 預設第一個是 'All'
                activeBtn.classList.remove('bg-transparent', 'text-gray-500', 'border-transparent');
                activeBtn.classList.add('active', 'bg-ink', 'text-paper', 'border-ink');
            }

            renderTools();
        }

        // C. 搜尋功能監聽
        searchInput.addEventListener('input', (e) => {
            currentSearch = e.target.value.toLowerCase();
            renderTools();
        });

        // D. 渲染工具卡片 (根據當前過濾和搜尋狀態)
        function renderTools() {
            container.innerHTML = '';
            
            const filteredData = toolsData.filter(tool => {
                // 1. 檢查分類
                const matchTag = currentFilter === 'all' || tool.tag === currentFilter;
                // 2. 檢查標題搜尋
                const matchSearch = tool.title.toLowerCase().includes(currentSearch);
                
                return matchTag && matchSearch;
            });

            if (filteredData.length === 0) {
                container.classList.add('hidden');
                emptyState.classList.remove('hidden');
            } else {
                container.classList.remove('hidden');
                emptyState.classList.add('hidden');
                
                filteredData.forEach(tool => {
                    const card = document.createElement('a');
                    card.href = tool.link;
                    card.className = `
                        group block bg-white p-8 border border-transparent 
                        rounded-sm shadow-soft card-hover relative overflow-hidden
                        cursor-pointer animate-fade-in
                    `;
                    // 加入簡單的淡入動畫樣式
                    card.style.animation = "fadeIn 0.5s ease-out";
                    
                    card.innerHTML = `
                        <div class="absolute -right-4 -bottom-4 text-9xl text-gray-50 opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none select-none font-serif">
                            ${tool.tag.charAt(0)}
                        </div>
                        <div class="text-[10px] tracking-[0.2em] uppercase text-gray-400 mb-4 font-sans">
                            ${tool.tag}
                        </div>
                        <div class="flex items-center gap-4 mb-4">
                            <i class="${tool.icon} text-3xl ${tool.color} opacity-80 group-hover:scale-110 transition-transform duration-300"></i>
                            <h2 class="text-xl font-serif font-medium text-ink group-hover:text-sage transition-colors duration-300">
                                ${tool.title}
                            </h2>
                        </div>
                        <div class="w-8 h-[1px] bg-sand my-4 group-hover:w-full group-hover:bg-sage transition-all duration-500"></div>
                        <p class="text-sm text-gray-500 font-light leading-relaxed">
                            ${tool.desc}
                        </p>
                        <div class="mt-6 flex justify-end opacity-0 group-hover:opacity-100 transform translate-x-[-10px] group-hover:translate-x-0 transition-all duration-300">
                            <i class="ph-arrow-right text-sage text-lg"></i>
                        </div>
                    `;
                    container.appendChild(card);
                });
            }
        }

        // E. 渲染社群連結
        const socialContainer = document.getElementById('social-container');
        socialData.forEach(item => {
            const btn = document.createElement('a');
            btn.href = item.link;
            btn.target = "_blank";
            btn.className = `
                btn-hover inline-flex items-center gap-2 px-6 py-3 
                border border-gray-300 rounded-sm text-sm tracking-widest text-gray-600
                bg-transparent
            `;
            btn.innerHTML = `<i class="${item.icon} text-lg"></i><span>${item.title}</span>`;
            socialContainer.appendChild(btn);
        });

        // F. 啟動
        initFilterButtons();
        renderTools();

        // 注入動畫樣式
        const styleSheet = document.createElement("style");
        styleSheet.textContent = `
            @keyframes fadeIn {
                from { opacity: 0; transform: translateY(10px); }
                to { opacity: 1; transform: translateY(0); }
            }
        `;
        document.head.appendChild(styleSheet);

    </script>
</body>
</html>
