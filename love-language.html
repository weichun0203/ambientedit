<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¸¸æº«é—œä¿‚æ‰‹æœ­ï½œAmbient Edit Studio</title>
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-2F079YMSFW"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'G-2F079YMSFW');
    </script>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Google Fonts: Noto Serif TC & Noto Sans TC -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&family=Noto+Serif+TC:wght@300;400;600&display=swap" rel="stylesheet">

    <!-- Brand Configuration -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        brand: {
                            paper: '#fdfbf7',
                            ink: '#4a4a4a',
                            sage: '#8da399',
                            clay: '#d4a59a',
                            sand: '#e6e2dd',
                            wood: '#d8cfc4',
                        }
                    },
                    fontFamily: {
                        serif: ['"Noto Serif TC"', 'serif'],
                        sans: ['"Noto Sans TC"', 'sans-serif'],
                    },
                    boxShadow: {
                        'soft': '0 4px 20px -2px rgba(0, 0, 0, 0.05)',
                        'card': '0 2px 8px rgba(0, 0, 0, 0.08)',
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background-color: #fdfbf7;
            color: #4a4a4a;
            /* æ¨¡æ“¬ç´™å¼µçº–ç¶­è³ªæ„Ÿ */
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.03'/%3E%3C/svg%3E");
            font-family: "Noto Sans TC", sans-serif;
            scroll-behavior: smooth;
        }
        
        h1, h2, h3, .font-serif {
            font-family: "Noto Serif TC", serif;
        }

        /* 3D Flip Card Styles */
        .perspective-1000 {
            perspective: 1000px;
        }
        
        .flip-card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.6s;
            transform-style: preserve-3d;
            cursor: pointer;
        }
        
        .flip-card.flipped .flip-card-inner {
            transform: rotateY(180deg);
        }
        
        .flip-card-front, .flip-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            border-radius: 0.5rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        
        .flip-card-front {
            background-color: #fff;
            border: 1px solid #e6e2dd;
            color: #4a4a4a;
        }

        .flip-card:not(.flipped):hover .flip-card-inner {
            transform: translateY(-5px);
        }
        
        .flip-card-back {
            background-color: #8da399; 
            color: white;
            transform: rotateY(180deg);
            border: 1px solid transparent;
        }

        .hole {
            width: 8px;
            height: 8px;
            background-color: #fdfbf7;
            border-radius: 50%;
            position: absolute;
            top: 8px;
            left: 50%;
            transform: translateX(-50%);
            box-shadow: inset 0 1px 2px rgba(0,0,0,0.1);
        }

        /* å»ºè­°è† å›Šæ¨£å¼ */
        .suggestion-chip {
            transition: all 0.3s ease;
        }
        .suggestion-chip:hover {
            transform: translateY(-2px);
            background-color: #8da399; /* brand-sage */
            color: white;
            border-color: #8da399;
        }

        .fade-in {
            animation: fadeIn 0.8s ease-out forwards;
            opacity: 0;
            transform: translateY(10px);
        }
        
        /* å»¶é²å‹•ç•«é¡åˆ¥ */
        .delay-100 { animation-delay: 0.1s; }
        .delay-200 { animation-delay: 0.2s; }
        .delay-300 { animation-delay: 0.3s; }
        .delay-500 { animation-delay: 0.5s; }

        @keyframes fadeIn {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* éš±è—æ»¾å‹•æ¢ä½†ä¿æŒåŠŸèƒ½ */
        .hide-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .hide-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center py-12 px-4 sm:px-6">

    <!-- æ•´åˆå°èˆªèˆ‡æ¨™é¡Œçš„ Header å€å¡Š -->
    <header class="w-full max-w-5xl mx-auto mb-12 relative px-4 fade-in delay-200">
        
        <!-- è¿”å›æŒ‰éˆ• (Desktop: çµ•å°å®šä½æ–¼å³å´å‚ç›´ç½®ä¸­; Mobile: å½ˆæ€§æ’åˆ—åœ¨ä¸Šæ–¹) -->
        <div class="flex justify-end mb-4 md:mb-0 md:absolute md:right-4 md:top-1/2 md:-translate-y-1/2 z-10">
            <a href="https://weichun0203.github.io/ambientedit/" 
               class="group inline-flex items-center px-4 py-2 rounded-full border border-brand-sand hover:border-brand-sage hover:bg-white transition-all duration-300 shadow-sm hover:shadow-soft bg-white/50 backdrop-blur-sm"
               aria-label="è¿”å›å¸¸æº«é¦–é ">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-brand-sage group-hover:text-brand-ink transition-colors duration-300" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
                    <polyline points="9 22 9 12 15 12 15 22"/>
                </svg>
                <span class="ml-2 text-xs font-bold tracking-widest text-brand-sage group-hover:text-brand-ink transition-colors duration-300">å¸¸æº«é¦–é </span>
            </a>
        </div>

        <!-- æ¨™é¡Œæ–‡å­— (ä¿æŒç½®ä¸­) -->
        <div class="text-center">
            <div class="inline-block p-1 border-b-2 border-brand-clay mb-4">
                <span class="text-xs tracking-[0.2em] text-brand-sage uppercase">Six Colors of Love</span>
            </div>
            <h1 class="text-3xl md:text-4xl font-serif text-brand-ink mb-3 tracking-wide">æ„›çš„æ¨£è²Œé£Ÿå ‚</h1>
            <p class="text-brand-ink/70 text-sm md:text-base font-light tracking-wider">
                å…ˆç†è§£æ„›çš„å½¢ç‹€ï¼Œå†é»ä¸€ä»½ä»Šæ—¥çš„äº’å‹•ã€‚
            </p>
        </div>
    </header>

    <!-- å€å¡Šä¸€ï¼šç§‘æ™®å¼•å°å€ (æ„›çš„å…­ç¨®åŸè‰²) -->
    <section class="w-full max-w-5xl mx-auto mb-12 fade-in delay-300">
        <div class="bg-white/60 backdrop-blur-sm border-t border-b border-brand-sand py-12 relative overflow-hidden rounded-xl shadow-soft">
            <!-- è£é£¾ç·šæ¢ -->
            <div class="absolute top-0 left-1/2 -translate-x-1/2 w-24 h-1 bg-brand-clay/30 rounded-b-full"></div>

            <div class="text-center mb-8 px-4">
                 <h2 class="text-xl md:text-2xl font-serif text-brand-ink mb-3 tracking-wide">é—œæ–¼æ„›çš„å…­ç¨®åŸè‰²</h2>
                 <p class="text-sm text-brand-ink/70 max-w-2xl mx-auto leading-relaxed">
                    ç¤¾æœƒå­¸å®¶ç´„ç¿°Â·æ (John Alan Lee) å°‡æ„›æ­¸ç´ç‚ºå…­ç¨®å…‰è­œã€‚<br class="hidden md:block">
                    åœ¨æŠ•å…¥äº’å‹•ä¹‹å‰ï¼Œè©¦è‘—è¾¨è­˜ä»Šå¤©ä½ å€‘è™•æ–¼å“ªä¸€ç¨®é »ç‡ï¼Ÿ
                 </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 px-4 lg:px-12">
                <!-- Eros -->
                <div class="p-5 bg-white rounded-lg shadow-sm border border-brand-sand/50 hover:border-brand-clay/50 transition-colors duration-300 group">
                    <div class="text-3xl mb-2 group-hover:scale-110 transition-transform duration-300 origin-left">ğŸŒ¹</div>
                    <h3 class="font-serif font-bold text-brand-ink mb-2">æƒ…æ¬²ä¹‹æ„› Eros</h3>
                    <p class="text-xs text-brand-ink/70 leading-relaxed text-justify">
                        æµªæ¼«ã€æ¿€æƒ…çš„æ„›ã€‚å»ºç«‹åœ¨å¼·çƒˆçš„å¸å¼•åŠ›èˆ‡ç†±æƒ…ä¹‹ä¸Šï¼Œæ¸´æœ›èº«å¿ƒå®Œå…¨èåˆï¼Œå¦‚åŒä¸€è¦‹é¾æƒ…çš„é›»å½±æƒ…ç¯€ã€‚
                    </p>
                </div>
                <!-- Ludus -->
                <div class="p-5 bg-white rounded-lg shadow-sm border border-brand-sand/50 hover:border-brand-sage/50 transition-colors duration-300 group">
                    <div class="text-3xl mb-2 group-hover:scale-110 transition-transform duration-300 origin-left">ğŸ­</div>
                    <h3 class="font-serif font-bold text-brand-ink mb-2">éŠæˆ²ä¹‹æ„› Ludus</h3>
                    <p class="text-xs text-brand-ink/70 leading-relaxed text-justify">
                        è¦–æ„›æƒ…ç‚ºä¸€å ´è¼•é¬†çš„éŠæˆ²ã€‚é‡è¦–éç¨‹æ¨‚è¶£å¤§æ–¼çµæœæ‰¿è«¾ï¼Œè¿½æ±‚æ–°é®®æ„Ÿï¼Œäº«å—è‡ªç”±è‡ªåœ¨ã€ç„¡è² æ“”çš„ç›¸è™•ã€‚
                    </p>
                </div>
                <!-- Storge -->
                <div class="p-5 bg-white rounded-lg shadow-sm border border-brand-sand/50 hover:border-brand-wood/50 transition-colors duration-300 group">
                    <div class="text-3xl mb-2 group-hover:scale-110 transition-transform duration-300 origin-left">ğŸŒ±</div>
                    <h3 class="font-serif font-bold text-brand-ink mb-2">å‹èª¼ä¹‹æ„› Storge</h3>
                    <p class="text-xs text-brand-ink/70 leading-relaxed text-justify">
                        ç´°æ°´é•·æµã€å¦‚è€å‹èˆ¬çš„æ„›ã€‚æ²’æœ‰å¼·çƒˆæ¿€æƒ…ï¼Œå»æœ‰æ·±åšçš„ä¿¡è³´èˆ‡ä¾è³´ï¼Œæ˜¯å¯§éœã€æº«é¦¨ä¸”å…±åŒæˆé•·çš„ç©©å®šé—œä¿‚ã€‚
                    </p>
                </div>
                 <!-- Mania -->
                 <div class="p-5 bg-white rounded-lg shadow-sm border border-brand-sand/50 hover:border-brand-clay/50 transition-colors duration-300 group">
                    <div class="text-3xl mb-2 group-hover:scale-110 transition-transform duration-300 origin-left">â¤ï¸â€ğŸ”¥</div>
                    <h3 class="font-serif font-bold text-brand-ink mb-2">ä¾é™„ä¹‹æ„› Mania</h3>
                    <p class="text-xs text-brand-ink/70 leading-relaxed text-justify">
                        å¼·çƒˆä½”æœ‰èˆ‡ä¾è³´ã€‚æƒ…æ„Ÿéœ€æ±‚é«˜ï¼Œæƒ…ç·’èµ·ä¼å¤§ï¼Œæ™‚åˆ»éœ€è¦å°æ–¹çš„å›æ‡‰ä¾†ç¢ºèªæ„›çš„å­˜çºŒï¼Œæ„›å¾—æ¿ƒçƒˆä¸”æ·±åˆ»ã€‚
                    </p>
                </div>
                <!-- Pragma -->
                <div class="p-5 bg-white rounded-lg shadow-sm border border-brand-sand/50 hover:border-brand-sage/50 transition-colors duration-300 group">
                    <div class="text-3xl mb-2 group-hover:scale-110 transition-transform duration-300 origin-left">âš–ï¸</div>
                    <h3 class="font-serif font-bold text-brand-ink mb-2">ç¾å¯¦ä¹‹æ„› Pragma</h3>
                    <p class="text-xs text-brand-ink/70 leading-relaxed text-justify">
                        ç†æ€§å‹™å¯¦çš„æ„›ã€‚è€ƒæ…®ç¾å¯¦æ¢ä»¶èˆ‡æœªä¾†è¦åŠƒï¼Œå¦‚åŒç¶“ç‡Ÿå¤¥ä¼´é—œä¿‚ï¼Œè¿½æ±‚é›™æ–¹æœ€å¤§å…±åŒåˆ©ç›Šèˆ‡ç©©å®šçš„æœªä¾†ã€‚
                    </p>
                </div>
                 <!-- Agape -->
                 <div class="p-5 bg-white rounded-lg shadow-sm border border-brand-sand/50 hover:border-brand-wood/50 transition-colors duration-300 group">
                    <div class="text-3xl mb-2 group-hover:scale-110 transition-transform duration-300 origin-left">ğŸ•Šï¸</div>
                    <h3 class="font-serif font-bold text-brand-ink mb-2">åˆ©ä»–ä¹‹æ„› Agape</h3>
                    <p class="text-xs text-brand-ink/70 leading-relaxed text-justify">
                        ç„¡ç§å¥‰ç»ã€ä¸æ±‚å›å ±ã€‚å°‡ä¼´ä¾¶çš„éœ€æ±‚ç½®æ–¼è‡ªå·±ä¹‹ä¸Šï¼Œæ˜¯ä¸€ç¨®ç´”æ½”ã€åŒ…å®¹èˆ‡çµ¦äºˆçš„æ¥µè‡´æº«æŸ”å±•ç¾ã€‚
                    </p>
                </div>
            </div>

            <!-- å¼•å°å¾€ä¸‹çš„ UX è¨­è¨ˆ -->
            <div class="mt-10 text-center relative z-10">
                <p class="text-brand-ink/50 text-xs tracking-widest mb-4">æº–å‚™å¥½ç´€éŒ„ä»Šå¤©çš„äº’å‹•äº†å—ï¼Ÿ</p>
                <button onclick="document.getElementById('menuSection').scrollIntoView({behavior: 'smooth'})" 
                        class="animate-bounce p-3 rounded-full bg-brand-paper border border-brand-sand shadow-sm hover:shadow-md hover:bg-white text-brand-sage transition-all duration-300 group">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 group-hover:text-brand-ink" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3" />
                    </svg>
                </button>
            </div>
        </div>
    </section>

    <!-- å€å¡ŠäºŒï¼šäº’å‹•é»é¤å€ (Menu) -->
    <main id="menuSection" class="w-full max-w-5xl grid grid-cols-1 lg:grid-cols-12 gap-8 items-start mb-16 scroll-mt-8">
        
        <!-- å·¦å´ï¼šç¿»ç‰Œèˆ‡è¡¨å–® -->
        <div class="lg:col-span-7 space-y-8 fade-in delay-500">
            
            <!-- ç¿»ç‰Œèœå–®å€ -->
            <div class="relative">
                <h2 class="text-center text-xs font-bold text-brand-ink/40 tracking-widest mb-4">â€” é¸æ“‡ä»Šæ—¥çš„ç›¸è™•æ¨¡å¼ â€”</h2>
                <div class="absolute top-[-10px] left-0 right-0 h-1 bg-brand-wood rounded-full opacity-30 z-0 hidden md:block"></div>
                
                <div class="grid grid-cols-2 md:grid-cols-3 gap-3 px-1">
                    
                    <!-- å¡ç‰‡å€ (ç¶­æŒä¸è®Š) -->
                    <!-- 1. Eros -->
                    <div class="flip-card h-36 perspective-1000 group" data-type="eros">
                        <div class="flip-card-inner transition-transform duration-500">
                            <div class="flip-card-front bg-white border-brand-sand">
                                <div class="hole"></div>
                                <span class="text-2xl mb-1">ğŸŒ¹</span>
                                <h3 class="font-serif text-base font-bold tracking-widest">æƒ…æ¬²</h3>
                                <span class="text-[10px] text-brand-ink/40 uppercase tracking-widest">Eros</span>
                            </div>
                            <div class="flip-card-back bg-brand-clay border-brand-clay">
                                <div class="hole bg-brand-clay shadow-none border border-white/20"></div>
                                <span class="text-sm font-bold tracking-widest text-white">æµªæ¼«æ¿€æƒ…</span>
                            </div>
                        </div>
                    </div>

                    <!-- 2. Ludus -->
                    <div class="flip-card h-36 perspective-1000 group" data-type="ludus">
                        <div class="flip-card-inner transition-transform duration-500">
                            <div class="flip-card-front bg-white border-brand-sand">
                                <div class="hole"></div>
                                <span class="text-2xl mb-1">ğŸ­</span>
                                <h3 class="font-serif text-base font-bold tracking-widest">éŠæˆ²</h3>
                                <span class="text-[10px] text-brand-ink/40 uppercase tracking-widest">Ludus</span>
                            </div>
                            <div class="flip-card-back bg-brand-sage border-brand-sage">
                                <div class="hole bg-brand-sage shadow-none border border-white/20"></div>
                                <span class="text-sm font-bold tracking-widest text-white">æ–°é®®æ¨‚è¶£</span>
                            </div>
                        </div>
                    </div>

                    <!-- 3. Storge -->
                    <div class="flip-card h-36 perspective-1000 group" data-type="storge">
                        <div class="flip-card-inner transition-transform duration-500">
                            <div class="flip-card-front bg-white border-brand-sand">
                                <div class="hole"></div>
                                <span class="text-2xl mb-1">ğŸŒ±</span>
                                <h3 class="font-serif text-base font-bold tracking-widest">å‹èª¼</h3>
                                <span class="text-[10px] text-brand-ink/40 uppercase tracking-widest">Storge</span>
                            </div>
                            <div class="flip-card-back bg-[#d8cfc4] border-[#d8cfc4]">
                                <div class="hole bg-[#d8cfc4] shadow-none border border-white/20"></div>
                                <span class="text-sm font-bold tracking-widest text-white">ç´°æ°´é•·æµ</span>
                            </div>
                        </div>
                    </div>

                    <!-- 4. Mania -->
                    <div class="flip-card h-36 perspective-1000 group" data-type="mania">
                        <div class="flip-card-inner transition-transform duration-500">
                            <div class="flip-card-front bg-white border-brand-sand">
                                <div class="hole"></div>
                                <span class="text-2xl mb-1">â¤ï¸â€ğŸ”¥</span>
                                <h3 class="font-serif text-base font-bold tracking-widest">ä¾é™„</h3>
                                <span class="text-[10px] text-brand-ink/40 uppercase tracking-widest">Mania</span>
                            </div>
                            <div class="flip-card-back bg-brand-clay border-brand-clay">
                                <div class="hole bg-brand-clay shadow-none border border-white/20"></div>
                                <span class="text-sm font-bold tracking-widest text-white">å¼·çƒˆä½”æœ‰</span>
                            </div>
                        </div>
                    </div>

                    <!-- 5. Pragma -->
                    <div class="flip-card h-36 perspective-1000 group" data-type="pragma">
                        <div class="flip-card-inner transition-transform duration-500">
                            <div class="flip-card-front bg-white border-brand-sand">
                                <div class="hole"></div>
                                <span class="text-2xl mb-1">âš–ï¸</span>
                                <h3 class="font-serif text-base font-bold tracking-widest">ç¾å¯¦</h3>
                                <span class="text-[10px] text-brand-ink/40 uppercase tracking-widest">Pragma</span>
                            </div>
                            <div class="flip-card-back bg-brand-sage border-brand-sage">
                                <div class="hole bg-brand-sage shadow-none border border-white/20"></div>
                                <span class="text-sm font-bold tracking-widest text-white">ç†æ€§å‹™å¯¦</span>
                            </div>
                        </div>
                    </div>

                    <!-- 6. Agape -->
                    <div class="flip-card h-36 perspective-1000 group" data-type="agape">
                        <div class="flip-card-inner transition-transform duration-500">
                            <div class="flip-card-front bg-white border-brand-sand">
                                <div class="hole"></div>
                                <span class="text-2xl mb-1">ğŸ•Šï¸</span>
                                <h3 class="font-serif text-base font-bold tracking-widest">åˆ©ä»–</h3>
                                <span class="text-[10px] text-brand-ink/40 uppercase tracking-widest">Agape</span>
                            </div>
                            <div class="flip-card-back bg-[#d8cfc4] border-[#d8cfc4]">
                                <div class="hole bg-[#d8cfc4] shadow-none border border-white/20"></div>
                                <span class="text-sm font-bold tracking-widest text-white">ç„¡ç§å¥‰ç»</span>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

            <!-- å‹•æ…‹å»ºè­°å€ -->
            <div id="suggestionsArea" class="hidden opacity-0 transition-all duration-500">
                <div class="bg-brand-sage/10 rounded-lg p-4 border border-brand-sage/20">
                    <h4 class="text-xs font-bold text-brand-sage mb-3 flex items-center justify-between">
                        <div class="flex items-center"><span class="mr-2">ğŸ’¡</span> <span id="suggestionTitle">ä»Šæ—¥ç‰¹é¤æ¨è–¦</span></div>
                        <span class="text-[10px] text-brand-ink/40">é»æ“ŠåŠ å…¥ç­†è¨˜</span>
                    </h4>
                    <div id="suggestionChips" class="flex flex-wrap gap-2">
                        <!-- JS ç”¢ç”Ÿ Chips -->
                    </div>
                </div>
            </div>

            <!-- å¡«å¯«è©³ç´°è³‡æ–™è¡¨å–® -->
            <div class="bg-white/60 backdrop-blur-sm p-6 rounded-lg border-t-2 border-brand-sand/50 shadow-sm">
                <form id="relationForm" class="space-y-6">
                    <input type="hidden" id="interactionType" name="interactionType" required>
                    <input type="hidden" id="loveTypeEn" name="loveTypeEn"> 
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="relative group">
                            <label for="personName" class="block text-xs font-bold text-brand-ink/50 tracking-wider mb-2 uppercase">Who</label>
                            <input type="text" id="personName" placeholder="å…±åº¦æ™‚å…‰çš„äºº..." required
                                class="w-full bg-transparent border-b border-brand-sand py-2 text-brand-ink placeholder-brand-ink/30 focus:border-brand-sage focus:outline-none transition-colors text-lg font-serif">
                        </div>

                        <div class="relative group">
                             <label for="date" class="block text-xs font-bold text-brand-ink/50 tracking-wider mb-2 uppercase">When</label>
                             <input type="date" id="date" 
                                class="w-full bg-transparent border-b border-brand-sand py-2 text-brand-ink focus:border-brand-sage focus:outline-none transition-colors font-serif">
                        </div>
                    </div>

                    <div>
                        <label for="note" class="block text-xs font-bold text-brand-ink/50 tracking-wider mb-2 uppercase">Action / Memo</label>
                        <textarea id="note" rows="3" placeholder="å…·é«”çš„äº’å‹•å…§å®¹ï¼Œæˆ–å¾ä¸Šæ–¹é»é¸éˆæ„Ÿ..."
                            class="w-full bg-brand-paper/50 border border-brand-sand rounded p-3 text-brand-ink placeholder-brand-ink/30 focus:border-brand-sage focus:ring-1 focus:ring-brand-sage/20 focus:outline-none transition-all resize-none"></textarea>
                    </div>

                    <div class="pt-4">
                        <button type="submit" id="submitBtn"
                            class="w-full bg-brand-ink text-brand-paper py-3 rounded hover:bg-brand-sage hover:shadow-lg transition-all duration-300 tracking-[0.2em] font-serif text-sm">
                            ç´€éŒ„é€™ä»½æ„›
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- å³å´ï¼šæ­·å²æ”¶æ“šå€ -->
        <div class="lg:col-span-5 fade-in delay-500">
            <div class="bg-[#f2f0eb] p-6 rounded-t-lg shadow-inner min-h-[600px] border-t-4 border-brand-sand relative">
                <h2 class="text-center text-brand-ink/60 font-serif font-bold mb-6 tracking-widest flex items-center justify-center">
                    <span class="border-b border-brand-ink/20 flex-grow mx-4"></span>
                    æ„›æƒ…å­˜æ ¹
                    <span class="border-b border-brand-ink/20 flex-grow mx-4"></span>
                </h2>

                <div id="logsContainer" class="space-y-4 max-h-[600px] overflow-y-auto pr-2 pb-10 custom-scrollbar">
                    <!-- å…§å®¹æœƒç”± JS è®€å– LocalStorage ç”¢ç”Ÿ -->
                </div>
                
                <!-- è‹¥ç„¡è³‡æ–™é¡¯ç¤ºçš„é è¨­æç¤º -->
                <div id="emptyState" class="hidden text-center mt-20 opacity-50">
                    <span class="text-4xl block mb-2">ğŸ‚</span>
                    <p class="text-sm font-serif">ç›®å‰é‚„æ²’æœ‰ç´€éŒ„ï¼Œ<br>é–‹å§‹æ”¶è—ä½ çš„æ—¥å¸¸æº«åº¦å§ã€‚</p>
                </div>
            </div>
        </div>

    </main>

    <footer class="mt-8 mb-6 text-center text-brand-ink/30 text-xs tracking-widest fade-in">
        <p>&copy; 2026 Ambient Edit Studio. Based on Lee's Love Styles.</p>
    </footer>

    <!-- JavaScript Logic -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const dateInput = document.getElementById('date');
            dateInput.valueAsDate = new Date();

            const hiddenInput = document.getElementById('interactionType'); 
            const hiddenTypeEn = document.getElementById('loveTypeEn');
            const suggestionsArea = document.getElementById('suggestionsArea');
            const suggestionChips = document.getElementById('suggestionChips');
            const suggestionTitle = document.getElementById('suggestionTitle');
            const noteArea = document.getElementById('note');
            const logsContainer = document.getElementById('logsContainer');
            const emptyState = document.getElementById('emptyState');

            // --- æ“´å……çš„å»ºè­°è³‡æ–™åº« ---
            const suggestionsData = {
                eros: {
                    title: "æƒ…æ¬² (Eros)ï¼šå‰µé€ é©šå–œèˆ‡æµªæ¼«",
                    examples: [
                        "å®‰æ’ä¸€å ´ç„¡ç†ç”±çš„é©šå–œç´„æœƒ",
                        "ç©¿ä¸Šå°æ–¹æ›¾ç¨±è®šéçš„è¡£æœ",
                        "æ·±æƒ…æ³¨è¦–å°æ–¹è¶…é 10 ç§’",
                        "å¯«ä¸€å¼µå……æ»¿æ„›æ„çš„å°å¡ç‰‡",
                        "ç‚ºå°æ–¹æŒ‰æ‘©æ”¾é¬†",
                        "é‡éŠç¬¬ä¸€æ¬¡ç´„æœƒçš„åœ°é»",
                        "ä¸ç¶“æ„åœ°ç‰½èµ·å°æ–¹çš„æ‰‹"
                    ]
                },
                ludus: {
                    title: "éŠæˆ² (Ludus)ï¼šè¼•é¬†æœ‰è¶£çš„äº’å‹•",
                    examples: [
                        "ä¸€èµ·å˜—è©¦ä¸€æ¬¾æ–°æ¡ŒéŠæˆ–é›»ç©",
                        "å»ä¸€å€‹å¾æœªå»éçš„åœ°æ–¹æ¢éšª",
                        "é€²è¡Œä¸€å ´ä¸è«‡æœªä¾†çš„è¼•é¬†å°è©±",
                        "äº’ç›¸é–‹ä¸€å€‹ç„¡å‚·å¤§é›…çš„ç©ç¬‘",
                        "ä¸€èµ·æŒ‘æˆ°æ–°çš„é‹å‹•æˆ–ä¼‘é–’",
                        "éš¨æ©Ÿè·³ä¸Šä¸€è¼›å…¬è»Šå»å…œé¢¨",
                        "äº’ç›¸æ¯”è³½èª°å…ˆåšå®Œå®¶äº‹"
                    ]
                },
                storge: {
                    title: "å‹èª¼ (Storge)ï¼šç´°æ°´é•·æµçš„é™ªä¼´",
                    examples: [
                        "éœéœåœ°ä¸€èµ·å–æ¯ç†±èŒ¶",
                        "ä¸€èµ·ç¿»çœ‹èˆŠç…§ç‰‡èŠèŠå›æ†¶",
                        "åƒè€æœ‹å‹ä¸€æ¨£æ•£æ­¥èŠå¤©",
                        "åˆ†äº«ä»Šå¤©ç™¼ç”Ÿçš„ä¸€ä»¶å°äº‹",
                        "ä¸€èµ·å»é€›è¶…å¸‚è²·èœ",
                        "ç¡å‰èŠèŠä»Šå¤©çš„æ„Ÿå—",
                        "é™ªä¼´å°æ–¹åšä»–å–œæ­¡çš„äº‹"
                    ]
                },
                mania: {
                    title: "ä¾é™„ (Mania)ï¼šå»ºç«‹å®‰å…¨æ„Ÿé€£çµ",
                    examples: [
                        "ä¸»å‹•å ±å‚™è¡Œç¨‹è®“å°æ–¹å®‰å¿ƒ",
                        "çœŸèª è¡¨é”å°é€™æ®µé—œä¿‚çš„é‡è¦–",
                        "ç¢ºèªå½¼æ­¤ç•¶ä¸‹çš„æƒ…ç·’ç‹€æ…‹",
                        "çµ¦äºˆå°æ–¹ä¸€å€‹å¾ˆä¹…çš„æ“æŠ±",
                        "è©¢å•å°æ–¹ã€Œä»Šå¤©éœ€è¦ä»€éº¼æ¨£çš„é™ªä¼´ã€",
                        "ç§’å›å°æ–¹çš„é‡è¦è¨Šæ¯",
                        "ä¸»å‹•åˆ†äº«è‡ªå·±çš„è„†å¼±"
                    ]
                },
                pragma: {
                    title: "ç¾å¯¦ (Pragma)ï¼šå‹™å¯¦è¦åŠƒæœªä¾†",
                    examples: [
                        "ä¸€èµ·è¨è«–ä¸‹å€‹æœˆçš„è²¡å‹™è¦åŠƒ",
                        "å…±åŒæ•´ç†å®¶è£¡çš„ä¸€å€‹è§’è½",
                        "ç†æ€§è¨è«–é›™æ–¹çš„è·æ¶¯ç›®æ¨™",
                        "ç‚ºå…±åŒçš„ç›®æ¨™å­˜ä¸‹ä¸€ç­†éŒ¢",
                        "è¨è«–å¥åº·æª¢æŸ¥æˆ–ä¿éšªè¦åŠƒ",
                        "ä¸€èµ·å­¸ç¿’ä¸€é …æ–°æŠ€èƒ½",
                        "è§£æ±ºä¸€å€‹æ“±ç½®å·²ä¹…çš„å®¶åº­å•é¡Œ"
                    ]
                },
                agape: {
                    title: "åˆ©ä»– (Agape)ï¼šç„¡ç§çš„æº«æŸ”ä»˜å‡º",
                    examples: [
                        "é»˜é»˜ç‚ºå°æ–¹æº–å‚™æ„›å¿ƒæ—©é¤",
                        "åŸè«’å°æ–¹çš„ä¸€å€‹ç„¡å¿ƒä¹‹é",
                        "å‚¾è½å°æ–¹çš„ç…©æƒ±è€Œä¸åšè©•åˆ¤",
                        "æŠŠå°æ–¹çš„éœ€æ±‚æ’åœ¨è‡ªå·±ä¹‹å‰",
                        "åœ¨å°æ–¹ç–²æ†Šæ™‚ä¸»å‹•åˆ†æ“”äº‹å‹™",
                        "ç‚ºå°æ–¹ç¥ˆç¦±æˆ–ç¥ç¦",
                        "æ”¯æŒå°æ–¹çš„å¤¢æƒ³å³ä½¿è‡ªå·±éœ€çŠ§ç‰²"
                    ]
                }
            };

            // --- LocalStorage å­˜å–é‚è¼¯ ---
            function loadLogs() {
                const logs = JSON.parse(localStorage.getItem('ambient_relations_logs') || '[]');
                logsContainer.innerHTML = '';
                
                if (logs.length === 0) {
                    emptyState.classList.remove('hidden');
                } else {
                    emptyState.classList.add('hidden');
                    logs.forEach(log => renderLog(log));
                }
            }

            function saveLog(logData) {
                const logs = JSON.parse(localStorage.getItem('ambient_relations_logs') || '[]');
                logs.unshift(logData); // æ–°çš„æ”¾å‰é¢
                localStorage.setItem('ambient_relations_logs', JSON.stringify(logs));
                
                // ç§»é™¤ç©ºç‹€æ…‹ä¸¦æ¸²æŸ“æ–°å¡ç‰‡
                emptyState.classList.add('hidden');
                renderLog(logData, true); // true ä»£è¡¨æ˜¯æ–°åŠ å…¥çš„ï¼Œè¦æœ‰å‹•ç•«
            }

            function renderLog(data, isNew = false) {
                const newCard = document.createElement('div');
                const animationClass = isNew ? 'animate-[fadeIn_0.5s_ease-out]' : '';
                
                newCard.className = `bg-white p-4 relative shadow-sm group hover:translate-y-[-2px] transition-transform duration-300 ${animationClass}`;
                
                // Icon Mapping
                const icons = {
                    eros: 'ğŸŒ¹', ludus: 'ğŸ­', storge: 'ğŸŒ±',
                    mania: 'â¤ï¸â€ğŸ”¥', pragma: 'âš–ï¸', agape: 'ğŸ•Šï¸'
                };
                const icon = icons[data.typeEn] || 'ğŸ“Œ';

                newCard.innerHTML = `
                    <div style="background: radial-gradient(circle, transparent 4px, #fff 4px); background-size: 10px 10px; background-position: -5px -5px; height: 5px; position: absolute; top: 0; left: 0; width: 100%;"></div>
                    <div style="background: radial-gradient(circle, transparent 4px, #fff 4px); background-size: 10px 10px; background-position: -5px -5px; height: 5px; position: absolute; bottom: 0; left: 0; width: 100%;"></div>
                    
                    <div class="flex justify-between items-center mb-2 border-b border-dashed border-brand-sand pb-2 mt-2">
                        <span class="text-xs font-mono text-brand-ink/40">NO.${data.id}</span>
                        <span class="text-xs font-bold text-brand-sage">${data.date.replace(/-/g, '.')}</span>
                    </div>
                    <div class="flex items-center gap-3">
                        <span class="text-2xl">${icon}</span>
                        <div>
                            <h3 class="text-base font-serif font-bold text-brand-ink">${data.person}</h3>
                            <p class="text-xs text-brand-ink/60">${data.typeName} ${data.typeEn.charAt(0).toUpperCase() + data.typeEn.slice(1)}</p>
                        </div>
                    </div>
                    <p class="mt-3 text-sm text-brand-ink/80 font-light border-l-2 border-brand-sand pl-3 italic whitespace-pre-wrap">"${data.note || 'Checked.'}"</p>
                `;

                if(isNew) {
                    logsContainer.insertBefore(newCard, logsContainer.firstChild);
                } else {
                    logsContainer.appendChild(newCard);
                }
            }

            // åˆå§‹åŒ–è®€å–
            loadLogs();

            // --- ç¿»ç‰Œèˆ‡å»ºè­°é‚è¼¯ ---
            const cards = document.querySelectorAll('.flip-card');
            
            cards.forEach(card => {
                card.addEventListener('click', () => {
                    const typeKey = card.dataset.type;
                    
                    cards.forEach(c => {
                        if (c !== card) c.classList.remove('flipped');
                    });

                    if (!card.classList.contains('flipped')) {
                        card.classList.add('flipped');
                        
                        const typeName = card.querySelector('.flip-card-front h3').innerText;
                        hiddenInput.value = typeName;
                        hiddenTypeEn.value = typeKey;

                        showSuggestions(typeKey);

                        // è¦–è¦ºæç¤º
                        document.querySelector('form').classList.add('ring-2', 'ring-brand-sage/20');
                        setTimeout(() => document.querySelector('form').classList.remove('ring-2'), 500);
                    }
                });
            });

            function showSuggestions(typeKey) {
                const data = suggestionsData[typeKey];
                if(!data) return;

                suggestionTitle.innerText = data.title;
                suggestionChips.innerHTML = '';
                
                data.examples.forEach(ex => {
                    const btn = document.createElement('button');
                    btn.type = 'button';
                    btn.className = 'suggestion-chip px-3 py-1 bg-white border border-brand-sand rounded-full text-xs text-brand-ink/70 hover:shadow-sm text-left mb-1';
                    btn.innerText = ex;
                    
                    btn.addEventListener('click', () => {
                        const currentVal = noteArea.value;
                        if(currentVal) {
                            noteArea.value = currentVal + "\n" + ex;
                        } else {
                            noteArea.value = ex;
                        }
                        btn.classList.add('bg-brand-sage', 'text-white', 'border-brand-sage');
                        setTimeout(() => btn.classList.remove('bg-brand-sage', 'text-white', 'border-brand-sage'), 300);
                    });

                    suggestionChips.appendChild(btn);
                });

                suggestionsArea.classList.remove('hidden');
                setTimeout(() => {
                    suggestionsArea.classList.remove('opacity-0');
                }, 10);
            }

            // --- è¡¨å–®æäº¤ ---
            const form = document.getElementById('relationForm');
            const submitBtn = document.getElementById('submitBtn');

            form.addEventListener('submit', (e) => {
                e.preventDefault();

                if(!hiddenInput.value) {
                    alert("è«‹å…ˆé¸æ“‡ä¸€ç¨®æ„›çš„å‹æ…‹ï¼");
                    // ç°¡å–®æ–æ™ƒå‹•ç•«
                    document.getElementById('menuSection').scrollIntoView({behavior: 'smooth'});
                    return;
                }

                const person = document.getElementById('personName').value;
                const typeName = hiddenInput.value;
                const typeEn = hiddenTypeEn.value;
                const note = document.getElementById('note').value;
                const date = dateInput.value;
                const randomId = Math.floor(Math.random() * 9000) + 1000;

                // Loading
                const originalBtnText = submitBtn.innerText;
                submitBtn.innerText = "SAVING...";
                submitBtn.classList.add('opacity-70', 'cursor-not-allowed');
                
                setTimeout(() => {
                    // æº–å‚™è³‡æ–™
                    const logData = {
                        id: randomId,
                        date: date,
                        person: person,
                        typeName: typeName,
                        typeEn: typeEn,
                        note: note
                    };

                    // å­˜å…¥ LocalStorage ä¸¦é¡¯ç¤º
                    saveLog(logData);

                    // Reset
                    form.reset();
                    dateInput.valueAsDate = new Date();
                    suggestionsArea.classList.add('opacity-0');
                    setTimeout(() => suggestionsArea.classList.add('hidden'), 500);
                    cards.forEach(c => c.classList.remove('flipped'));
                    hiddenInput.value = '';

                    submitBtn.innerText = "å·²å­˜å…¥å›æ†¶";
                    setTimeout(() => {
                        submitBtn.innerText = originalBtnText;
                        submitBtn.classList.remove('opacity-70', 'cursor-not-allowed');
                    }, 2000);

                }, 800);
            });
        });
    </script>
</body>
</html>
